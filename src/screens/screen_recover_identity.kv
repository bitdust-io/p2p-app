<RecoverIdentityScreen>:

    ScreenContainerLayout:

        TopEmptyScreenSpace:

        AppScreenLayout:

            AutomatShortStatusPanel:
                id: state_panel
                size_hint_x: 1
                statuses: root.get_statuses()

            VEmptySpace:
                size_hint_y: 0.3

	        HLayout:

                HEmptySpace:
                    size_hint_x: 0.1

                VLayout:
	                size_hint: 1, 1

	                MarkupLabel:
	                    valign: "top"
	                    halign: "center"
	                    size_hint_y: None
	                    text_size: self.width, None
	                    height: self.texture_size[1]
	                    color: app.color_gray
	                    text: "[size=20sp]Restore existing identity[/size]\n\n[size=12sp]To recover your BitDust identity, you will need a backup copy of your master key and one of your IDURL addresses. Copy & paste the [b]IDURL address[/b] and the [b]Private key[/b] below in the text input field or load a backup copy of your BitDust master key from a text file.[/size]"

					VFixedEmptySpace:

                    HFlexMarkupLabel:
	                    pos_hint: {'center_x': 0.5}
                        text: '[u][color=#0000ff][ref=link]load from text file[/ref][/color][/u]'
                        on_ref_press: root.on_load_private_key_pressed()

                    TextInput:
                        id: private_key_input
                        hint_text: 'http://example-identity-server.com/alice.xml\n-----BEGIN RSA PRIVATE KEY-----\n...'
                        multiline: True
                        text: ''
                        halign: 'left'
                        text_size: self.size
	                    width: dp(320)
                        height: dp(160)
                        size_hint: 1, None
					    font_name: 'RobotoMono-Regular'
					    font_size: '10sp'

					VFixedEmptySpace:

	                FillRoundFlatButton:
	                    id: recover_identity_button
	                    text: "[size=18sp]{}[/size]  [size=16sp][b]recover identity[/b][/size]".format(md_icon("lock-open-variant"))
	                    md_bg_color: app.theme_cls.accent_color
	                    theme_text_color: "Custom"
	                    text_color: app.color_white99
	                    pos_hint: {'center_x': .5}
	                    on_release: root.on_start_recover_identity_button_clicked()

					VFixedEmptySpace:

	                StatusLabel:
	                    id: recover_identity_result_message
	                    halign: 'center'
	                    text: ""
	                    color: app.color_gray
	                    pos_hint: {'center_x': .5}

		            VEmptySpace:
		                size_hint_y: 0.5

                HEmptySpace:
                    size_hint_x: 0.1

            VEmptySpace:
                size_hint_y: 0.3

        BottomEmptyScreenSpace:

