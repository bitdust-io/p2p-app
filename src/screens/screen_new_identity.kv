<NewIdentityScreen>:

    ScreenContainerLayout:

        TopEmptyScreenSpace:

        AppScreenLayout:

            AutomatShortStatusPanel:
                id: state_panel
                size_hint_x: 1
                statuses: root.get_statuses()

            VEmptySpace:
                size_hint_y: 0.3

            HLayout:

                HEmptySpace:
                    size_hint_x: 0.5

                VLayout:
                    id: central_widget
                    size_hint: None, .01
                    width: self.minimum_width

	                MarkupLabel:
	                    text_size: self.size
	                    valign: "top"
	                    halign: "center"
	                    size_hint: None, None
	                    text_size: self.width, None
	                    height: self.texture_size[1]
	                    pos_hint: {'center_x': .5}
	                    width: dp(320)
	                    color: app.color_gray
	                    multiline: True
	                    text: "[size=20sp]Create a username to get started[/size]\n\n[size=12sp]Use only lowercase, digits, dash and underscore.\nUsername must begin with a letter, minimum 3 and maximum 20 characters long.[/size]"

					VFixedEmptySpace:

	                CustomTextField:
	                    id: username_input
	                    hint_text: 'Enter your username'
	                    icon_left: 'card-account-details'
	                    max_text_length: 20
	                    text: ''
	                    multiline: False
	                    pos_hint: {'center_x': .5}
	                    size_hint_x: None
	                    width: dp(230)
	                    on_key_enter_pressed: root.on_username_input_key_enter_pressed()

					VFixedEmptySpace:

	                FillRoundFlatButton:
	                    id: create_identity_button
	                    text: "[size=18sp]{}[/size]  [size=16sp][b]generate new key[/b][/size]".format(md_icon("key-variant"))
	                    md_bg_color: app.theme_cls.accent_color
	                    theme_text_color: "Custom"
	                    text_color: app.color_white99
	                    pos_hint: {'center_x': .5}
	                    on_release: root.on_create_identity_button_clicked()

					VFixedEmptySpace:

	                StatusLabel:
	                    id: create_identity_result_message
	                    valign: 'top'
	                    halign: 'center'
	                    width: dp(300)
	                    height: dp(20)
	                    size_hint: None, None
	                    pos_hint: {'center_x': .5}
	                    text: ""

                HEmptySpace:
                    size_hint_x: 0.5

            VEmptySpace:
                size_hint_y: 0.7

        BottomEmptyScreenSpace:
